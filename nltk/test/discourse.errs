
***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 362, in discourse.doctest
Failed example:
    dt.add_background(bg)
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[28]>", line 1, in <module>
        dt.add_background(bg)
      File "/Users/sb/git/nltk/nltk/inference/discourse.py", line 436, in add_background
        from nltk.sem import Expression
    ImportError: cannot import name Expression

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 363, in discourse.doctest
Failed example:
    dt.background()
Expected:
    all x.(boxerdog(x) -> dog(x))
    all x.(boxer(x) -> person(x))
    all x.-(dog(x) & person(x))
    all x.(married(x) <-> exists y.marry(x,y))
    all x.(bark(x) -> dog(x))
    all x y.(marry(x,y) -> (person(x) & person(y)))
    -(Vincent = Mia)
    -(Vincent = Fido)
    -(Mia = Fido)
Got nothing

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 378, in discourse.doctest
Failed example:
    dt.readings(filter=True) # doctest: +NORMALIZE_WHITESPACE
Expected:
    d1: ['s0-r0', 's1-r1', 's2-r0', 's3-r0']
Got:
    d0: ['s0-r0', 's1-r0', 's2-r0', 's3-r0'] 
    d1: ['s0-r0', 's1-r1', 's2-r0', 's3-r0'] 
    d2: ['s0-r1', 's1-r0', 's2-r0', 's3-r0'] 
    d3: ['s0-r1', 's1-r1', 's2-r0', 's3-r0'] 

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 383, in discourse.doctest
Failed example:
    dt.models()
Expected:
    --------------------------------------------------------------------------------
    Model for Discourse Thread d0
    --------------------------------------------------------------------------------
    No model found!
    <BLANKLINE>
    --------------------------------------------------------------------------------
    Model for Discourse Thread d1
    --------------------------------------------------------------------------------
    % number = 1
    % seconds = 0
    <BLANKLINE>
    % Interpretation of size 3
    <BLANKLINE>
    Fido = 0.
    <BLANKLINE>
    Mia = 1.
    <BLANKLINE>
    Vincent = 2.
    <BLANKLINE>
    f1(0) = 0.
    f1(1) = 0.
    f1(2) = 2.
    <BLANKLINE>
      bark(0).
    - bark(1).
    - bark(2).
    <BLANKLINE>
    - boxer(0).
    - boxer(1).
      boxer(2).
    <BLANKLINE>
      boxerdog(0).
    - boxerdog(1).
    - boxerdog(2).
    <BLANKLINE>
      dog(0).
    - dog(1).
    - dog(2).
    <BLANKLINE>
    - married(0).
    - married(1).
      married(2).
    <BLANKLINE>
    - person(0).
    - person(1).
      person(2).
    <BLANKLINE>
    - marry(0,0).
    - marry(0,1).
    - marry(0,2).
    - marry(1,0).
    - marry(1,1).
    - marry(1,2).
    - marry(2,0).
    - marry(2,1).
      marry(2,2).
    <BLANKLINE>
    --------------------------------------------------------------------------------
    Model for Discourse Thread d2
    --------------------------------------------------------------------------------
    No model found!
    <BLANKLINE>
    --------------------------------------------------------------------------------
    Model for Discourse Thread d3
    --------------------------------------------------------------------------------
    No model found!
    <BLANKLINE>
    Inconsistent discourse: d0 ['s0-r0', 's1-r0', 's2-r0', 's3-r0']:
        s0-r0: boxer(Vincent)
        s1-r0: boxer(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
    Consistent discourse: d1 ['s0-r0', 's1-r1', 's2-r0', 's3-r0']:
        s0-r0: boxer(Vincent)
        s1-r1: boxerdog(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
    Inconsistent discourse: d2 ['s0-r1', 's1-r0', 's2-r0', 's3-r0']:
        s0-r1: boxerdog(Vincent)
        s1-r0: boxer(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
    Inconsistent discourse: d3 ['s0-r1', 's1-r1', 's2-r0', 's3-r0']:
        s0-r1: boxerdog(Vincent)
        s1-r1: boxerdog(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
Got:
    --------------------------------------------------------------------------------
    Model for Discourse Thread d0
    --------------------------------------------------------------------------------
    % number = 1
    % seconds = 0
    <BLANKLINE>
    % Interpretation of size 2
    <BLANKLINE>
    Fido = 0.
    <BLANKLINE>
    Vincent = 0.
    <BLANKLINE>
      bark(0).
    - bark(1).
    <BLANKLINE>
      boxer(0).
    - boxer(1).
    <BLANKLINE>
      married(0).
    - married(1).
    <BLANKLINE>
    --------------------------------------------------------------------------------
    Model for Discourse Thread d1
    --------------------------------------------------------------------------------
    % number = 1
    % seconds = 0
    <BLANKLINE>
    % Interpretation of size 2
    <BLANKLINE>
    Fido = 0.
    <BLANKLINE>
    Vincent = 0.
    <BLANKLINE>
      bark(0).
    - bark(1).
    <BLANKLINE>
      boxer(0).
    - boxer(1).
    <BLANKLINE>
      boxerdog(0).
    - boxerdog(1).
    <BLANKLINE>
      married(0).
    - married(1).
    <BLANKLINE>
    --------------------------------------------------------------------------------
    Model for Discourse Thread d2
    --------------------------------------------------------------------------------
    % number = 1
    % seconds = 0
    <BLANKLINE>
    % Interpretation of size 2
    <BLANKLINE>
    Fido = 0.
    <BLANKLINE>
    Vincent = 0.
    <BLANKLINE>
      bark(0).
    - bark(1).
    <BLANKLINE>
      boxer(0).
    - boxer(1).
    <BLANKLINE>
      boxerdog(0).
    - boxerdog(1).
    <BLANKLINE>
      married(0).
    - married(1).
    <BLANKLINE>
    --------------------------------------------------------------------------------
    Model for Discourse Thread d3
    --------------------------------------------------------------------------------
    % number = 1
    % seconds = 0
    <BLANKLINE>
    % Interpretation of size 2
    <BLANKLINE>
    Fido = 0.
    <BLANKLINE>
    Vincent = 0.
    <BLANKLINE>
      bark(0).
    - bark(1).
    <BLANKLINE>
      boxerdog(0).
    - boxerdog(1).
    <BLANKLINE>
      married(0).
    - married(1).
    <BLANKLINE>
    Consistent discourse: d0 ['s0-r0', 's1-r0', 's2-r0', 's3-r0']:
        s0-r0: boxer(Vincent)
        s1-r0: boxer(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
    Consistent discourse: d1 ['s0-r0', 's1-r1', 's2-r0', 's3-r0']:
        s0-r0: boxer(Vincent)
        s1-r1: boxerdog(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
    Consistent discourse: d2 ['s0-r1', 's1-r0', 's2-r0', 's3-r0']:
        s0-r1: boxerdog(Vincent)
        s1-r0: boxer(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>
    Consistent discourse: d3 ['s0-r1', 's1-r1', 's2-r0', 's3-r0']:
        s0-r1: boxerdog(Vincent)
        s1-r1: boxerdog(Fido)
        s2-r0: married(Vincent)
        s3-r0: bark(Fido)
    <BLANKLINE>

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 520, in discourse.doctest
Failed example:
    rc = DrtGlueReadingCommand(depparser=MaltParser(tagger=tagger))
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[46]>", line 1, in <module>
        rc = DrtGlueReadingCommand(depparser=MaltParser(tagger=tagger))
      File "/Users/sb/git/nltk/nltk/parse/malt.py", line 24, in __init__
        self.config_malt()
      File "/Users/sb/git/nltk/nltk/parse/malt.py", line 73, in config_malt
        verbose=verbose)
      File "/Users/sb/git/nltk/nltk/internals.py", line 510, in find_binary
        raise LookupError('\n\n%s\n%s\n%s' % (div, msg, div))
    LookupError: 

    ===========================================================================
      NLTK was unable to find the malt.jar executable!  Use
      config_malt.jar() or set the MALTPARSERHOME environment variable.

        >>> config_malt.jar('/path/to/malt.jar')

      Searched in:
        - .
        - /usr/local/bin

      For more information, on malt.jar, see:
        <http://w3.msi.vxu.se/~jha/maltparser/index.html>
    ===========================================================================

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 521, in discourse.doctest
Failed example:
    dt = DiscourseTester(['Every dog chases a boy', 'He runs'], rc)
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[47]>", line 1, in <module>
        dt = DiscourseTester(['Every dog chases a boy', 'He runs'], rc)
    NameError: name 'rc' is not defined

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 522, in discourse.doctest
Failed example:
    dt.readings()
Expected:
    <BLANKLINE>
    s0 readings:
    <BLANKLINE>
    s0-r0: ([],[(([x],[dog(x)]) -> ([z1],[boy(z1), chases(x,z1)]))])
    s0-r1: ([z2],[boy(z2), (([x],[dog(x)]) -> ([],[chases(x,z2)]))])
    <BLANKLINE>
    s1 readings:
    <BLANKLINE>
    s1-r0: ([x],[PRO(x), runs(x)])
Got:
    <BLANKLINE>
    s0 readings:
    <BLANKLINE>
    s0-r0: boxer(Vincent)
    s0-r1: boxerdog(Vincent)
    <BLANKLINE>
    s1 readings:
    <BLANKLINE>
    s1-r0: boxer(Fido)
    s1-r1: boxerdog(Fido)
    <BLANKLINE>
    s2 readings:
    <BLANKLINE>
    s2-r0: married(Vincent)
    <BLANKLINE>
    s3 readings:
    <BLANKLINE>
    s3-r0: bark(Fido)

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 532, in discourse.doctest
Failed example:
    dt.readings(show_thread_readings=True)
Expected:
    d0: ['s0-r0', 's1-r0'] : INVALID: AnaphoraResolutionException
    d1: ['s0-r1', 's1-r0'] : ([z6,z10],[boy(z6), (([x],[dog(x)]) -> ([],[chases(x,z6)])), (z10 = z6), runs(z10)])
Got:
    d0: ['s0-r0', 's1-r0', 's2-r0', 's3-r0'] : (boxer(Vincent) & boxer(Fido) & married(Vincent) & bark(Fido))
    d1: ['s0-r0', 's1-r1', 's2-r0', 's3-r0'] : (boxer(Vincent) & boxerdog(Fido) & married(Vincent) & bark(Fido))
    d2: ['s0-r1', 's1-r0', 's2-r0', 's3-r0'] : (boxerdog(Vincent) & boxer(Fido) & married(Vincent) & bark(Fido))
    d3: ['s0-r1', 's1-r1', 's2-r0', 's3-r0'] : (boxerdog(Vincent) & boxerdog(Fido) & married(Vincent) & bark(Fido))

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 535, in discourse.doctest
Failed example:
    dt.readings(filter=True, show_thread_readings=True)
Expected:
    d1: ['s0-r1', 's1-r0'] : ([z12,z15],[boy(z12), (([x],[dog(x)]) -> ([],[chases(x,z12)])), (z15 = z12), runs(z15)])
Got:
    d0: ['s0-r0', 's1-r0', 's2-r0', 's3-r0'] : (boxer(Vincent) & boxer(Fido) & married(Vincent) & bark(Fido))
    d1: ['s0-r0', 's1-r1', 's2-r0', 's3-r0'] : (boxer(Vincent) & boxerdog(Fido) & married(Vincent) & bark(Fido))
    d2: ['s0-r1', 's1-r0', 's2-r0', 's3-r0'] : (boxerdog(Vincent) & boxer(Fido) & married(Vincent) & bark(Fido))
    d3: ['s0-r1', 's1-r1', 's2-r0', 's3-r0'] : (boxerdog(Vincent) & boxerdog(Fido) & married(Vincent) & bark(Fido))

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 538, in discourse.doctest
Failed example:
    from nltk.parse import load_earley
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[51]>", line 1, in <module>
        from nltk.parse import load_earley
    ImportError: cannot import name load_earley

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 540, in discourse.doctest
Failed example:
    parser = load_earley('grammars/book_grammars/drt.fcfg', trace=0, logic_parser=DrtParser())
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[53]>", line 1, in <module>
        parser = load_earley('grammars/book_grammars/drt.fcfg', trace=0, logic_parser=DrtParser())
    NameError: name 'load_earley' is not defined

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 541, in discourse.doctest
Failed example:
    trees = parser.nbest_parse('Angus owns a dog'.split())
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[54]>", line 1, in <module>
        trees = parser.nbest_parse('Angus owns a dog'.split())
    NameError: name 'parser' is not defined

***************************************************************************
File "/Users/sb/git/nltk/nltk/test/discourse.doctest", line 542, in discourse.doctest
Failed example:
    print trees[0].node['SEM'].simplify()
Exception raised:
    Traceback (most recent call last):
      File "/opt/local/Library/Frameworks/Python.framework/Versions/2.6/lib/python2.6/doctest.py", line 1253, in __run
        compileflags, 1) in test.globs
      File "<doctest discourse.doctest[55]>", line 1, in <module>
        print trees[0].node['SEM'].simplify()
    NameError: name 'trees' is not defined
.